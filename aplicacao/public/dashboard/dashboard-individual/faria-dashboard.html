<!DOCTYPE html>
<html lang="ptbr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MOBANKING</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="shortcut icon"
      href="../../imagens/logo.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../../css/estilizacao-individual/faria.css" />
    <link rel="stylesheet" href="../../css/reset.css" />
    <link rel="stylesheet" href="../../css/default.css" />
    <link rel="stylesheet" href="../../css/cardConfirmacao.css" />
    <!-- <link rel="stylesheet" href=" link do novo css "> -->
    <!-- scripts do Chart.js - 2022-1 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body onload="plotarGrafico()">
    <div class="frame-aplicacao" style="display: flex">
      <nav
        class="menu-lateral"
        onmouseenter="exibirMenu()"
        onmouseleave="ocultarMenu()"
      >
        <img
          src="../../imagens/mobank-logo-menu-lateral.svg"
          alt="Logo"
          class="logo-menu"
        />
        <ul id="menuLateralBox">
          <li>
            <a href="../card.html">
              <span class="icon-menu"><i class="fa-solid fa-server"></i></span>
              <span class="titulo-link-menu">Máquinas</span>
            </a>
          </li>
          <li>
            <a href="../dashboard.html">
              <span class="icon-menu"
                ><i class="fa-solid fa-chart-simple"></i
              ></span>
              <span class="titulo-link-menu">Gráficos</span>
            </a>
          </li>
          <li>
            <a href="../alertas.html">
              <span class="icon-menu"
                ><i class="fa-solid fa-triangle-exclamation"></i
              ></span>
              <span class="titulo-link-menu">Alertas</span>
            </a>
          </li>
          <li class="dashboard-item">
            <a href="javascript:void(0);" onclick="toggleSubmenu()">
              <span class="icon-menu"
                ><i class="fa-solid fa-chart-pie"></i
              ></span>
              <span class="titulo-link-menu">Dashboard </span>
              <i class="fa-solid setaMenu fa-sort-down"></i>
            </a>
          </li>
          <div
            class="submenu"
            onmouseenter="manterSubmenu()"
            onmouseleave="fecharSubmenu()"
          >
            <li><a href="maikon-dashboard.html">Maikon</a></li>
            <li><a href="joao-dashboard.html">JP</a></li>
            <li><a href="fabio-dashboard.html">Fabio</a></li>
            <li><a href="kaua-dashboard.html">Kauâ</a></li>
            <li><a href="faria-dashboard.html">Gabriel</a></li>
          </div>
        </ul>

        <div class="name-menu">
          <a href="../usuarioInfo.html">
            <h2 id="nome_perfil_menu"></h2>
          </a>
        </div>

        <a class="buttonSair-menu" href="../../index.html">
          <h2>Sair</h2>
        </a>
      </nav>
      <div class="conteudo">
        <div class="left">
          <div class="top">
            <div class="filtros">
              <span>Filtros:</span>
              <span>
                <input type="radio" name="option" value="1" checked /> Média de
                uso</span
              >
              <span>
                <input type="radio" name="option" value="2" /> Máximo</span
              >
              <span>
                <input type="radio" name="option" value="3" /> Mínimo</span
              >
            </div>
          </div>
          <div class="bottom">
            <canvas id="myChartCanvas"></canvas>
          </div>
        </div>
        <hr />
        <div class="rigth">
          <div class="boxBobIA">
            <span class="tituloIA">Análise com IA</span>
            <div class="chatBobIA">
              <input type="text" id="pergunta">
              <button>Send</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  function exibirMenu() {
    const menuLateral = document.querySelector(".menu-lateral");
    menuLateral.classList.add("menu-aberto");
  }

  function ocultarMenu() {
    const submenu = document.querySelector(".submenu");
    const seta = document.querySelector(".fa-sort-down");

    // Fecha o submenu e redefine o ícone de seta quando o mouse sai do nav
    submenu.style.display = "none";
    seta.classList.remove("girarSeta");
    submenuAberto = false;
  }

  function toggleSubmenu() {
    const submenu = document.querySelector(".submenu");
    const seta = document.querySelector(".fa-sort-down");

    submenu.style.display =
      submenu.style.display === "block" ? "none" : "block";
    submenuAberto = submenu.style.display === "block";

    if (submenuAberto) {
      seta.classList.add("girarSeta");
    } else {
      seta.classList.remove("girarSeta");
    }
  }

  function plotarGrafico() {
    const labels = ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"];
    const cpu = ["10", "8", "5", "3", "6", "7", "9", "10", "4", "7", "2", "5"];
    const ram = ["7", "3", "6", "8", "4", "5", "3", "6", "8", "2", "4", "10"];
    const disco = ["4", "5", "8", "10", "8", "4", "6", "4", "2", "10", "5", "3"];
    const rede = ["2", "10", "2", "5", "10", "2", "1", "8", "6", "5", "9", "8"];
    const data = {
      labels: labels,
      datasets: [
        {
          label: "CPU",
          data: cpu,
          fill: false,
          backgroundColor: "rgba(0, 10, 143, 0.85)"
        },
        {
          label: "RAM",
          data: ram,
          backgroundColor: "rgba(32, 233, 255, 0.85)",
        },
        {
          label: "Disco",
          data: disco,
          backgroundColor: "rgba(22, 10, 255, 0.85)",
        },
        {
          label: "Rede",
          data: rede,
          backgroundColor: "rgba(167, 183, 255, 0.85)",
        },
      ],
    };

    const config = {
      type: "bar",
      data: data,
      options: {
        plugins: {
          title: {
            display: true,
            text: "Panorama Anual",
          },
        },
        responsive: true,
        scales: {
          x: {
            ticks: {
              color: "#000", // Cor do texto no eixo x
            },
            grid: {
              color: "rgba(0, 0, 0, 0.05)", // Cor das linhas de grade no eixo x com 20% de opacidade
            },
          },
          y: {
            max: 12,
            ticks: {
              color: "#000", // Cor do texto no eixo y
            },
            grid: {
              color: "rgba(0, 0, 0, 0.05)", // Cor das linhas de grade no eixo x com 20% de opacidade
            },
          }
        },
      },
    };

    let myChart = new Chart(document.getElementById(`myChartCanvas`), config);
  }

  const menuLaterealHTML = document.getElementById("menuLateralBox");
  var sessTipoUsuario = sessionStorage.ID_TIPO_USUARIO;
  if (sessTipoUsuario == 1) {
    menuLaterealHTML.innerHTML += `
     <li>
          <a href="../funcionarios.html">
            <span class="icon-menu"><i class="fa-solid fa-user"></i></span>
            <span class="titulo-link-menu">Funcionários</span>
          </a>
        </li>
    `;
  }

  nome_perfil_menu.innerHTML = sessionStorage.NOME_USUARIO;
</script>
